<!DOCTYPE HTML>
<HTML>
	<head>
		<meta charset="utf-8" />
		<link href="css/app.css" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Prosto+One" rel="stylesheet">
		<link rel="stylesheet" href="./css/flipclock.css">
		<link rel='stylesheet' href='./css/fullcalendar.css' />
		<script src='./scripts/jquery.min.js'></script>

		<script src='./scripts/moment.min.js'></script>
		<script src='./scripts/fullcalendar.js'></script>
		<script type='text/javascript' src='./scripts/gcal.js'></script>
		<title>JMF Workout</title>
		<h1 id='mainHeader'>JMF Workout</h1>
		<div class="topnav" id="myTopnav">
  		<a href="index.html">Home</a>
  		<a id="calendarLink">Calendar</a>
  		<a href="workouts.html">Workouts</a>
  		<a href="#about">Videos</a>
		<a id="authorize-button" style="display: none;">Authorize</a>
   <a id="signout-button" style="display: none;">Sign Out</a>
		</div>
	</head>
	<body>
		<h2 id='subHeader'>Users</h2>

		<div class='clockContainer'>
			<div class='showClock'></div>
		</div>
		<div class='calendarConatiner'>
			<div id='showCalendar'>
				<iframe src="https://calendar.google.com/calendar/embed?src=jmfavaro62%40gmail.com&ctz=America/Los_Angeles" marin = '20%' style="border: 0" width="400" height="300" frameborder="0" scrolling="no"></iframe>
			</div>
		</div>
		<pre id="content"></pre>

		<h4 id='workoutHeader' onclick="loadWorkout()"></h4>
		<div id="border">
			<button id='johnBtn'>John</button>
			<button id='meganBtn'>Megan</button>

			<table id='workoutTable' style="width:100%">
  				<!--<tr>
    				<th>Exercise</th>
    				<th>Weight</th>
    				<th>Reps</th>
  				</tr>
  				<tr>
    				<td id='Exercise1'>Jill</td>
    				<td id='Weight1'>Smith</td>
    				<td id='Reps1'>50</td>
  				</tr>
  				<tr>
    				<td>Eve</td>
    				<td>Jackson</td>
    				<td>94</td>
  				</tr>
  				<tr>
    				<td>John</td>
    				<td>Doe</td>
    				<td>80</td>
  				</tr>-->
			</table>

			<!--
			<div class="usrNameRow">
				<h5 id="usrNameText">Email:</h5>
				<input type="text" id="usrNameInput" placeholder="Bob@gmail.com"/>
			</div>
			<br />
			<div class="passwordRow">
				<h5 id="passwordText">Password:</h5>
				<input id="passwordInput" type="password" placeholder="Password"/>
			</div>
			<br />
			<button id="loginBtn">Login</button>
		-->

		</div>
		<button id="createWrkoutBtn">Create Workout</button>
		<br />
		<h3 id='subHeader2'>First Time Registration</h3>
		<div id="createWorkoutArea">
			<div class="usrNameRow">
				<h5 id="sgnUpText">Name:</h5>
				<input id="displayNameInput" type="text" placeholder="Name"/>
				<br>
				<div id='createWorkoutArea' class='createWorkoutArea'>
					<h5 id="sgnUpText">Name:</h5>
					<input id="displayNameInput" type="text" placeholder="Name"/>
					<h5 class='exercise1Text' id="exercise1Text">Exercise 1:</h5>
					<input class='exercise1Input' id="displayNameInput" type="text" placeholder="Name"/>
					<h5 id="sgnUpText">Exercise 2:</h5>
					<input id="displayNameInput" type="text" placeholder="Name"/>


				</div>

			</div>

			<!--<br />
			<div class="usrNameRow">
				<h5 id="sgnUpText">Email:</h5>
				<input id="sgnUpUsrInput" type="text" placeholder="Bob@gmail.com"/>
			</div>
			<br />
			<div class="passwordRow">
				<h5 id="sgnUpPswrdText">Password:</h5>
				<input id="sgnUpPswrdInput" type="password" placeholder="Password"/>
			</div>
			<br />
			<button id="verifyEmailBtn">Verify Email</button>
			-->
			<button id="signUpBtn">Register</button>

		</div>
		<br />
		<!-- Modal content -->

		<!-- Trigger/Open The Modal -->


<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <p>Create Workout</p>
	<div class="usrNameRow">
		<h5 class="formatInput">Workout Name:</h5>
		<input type="text" class="formatInput" id="workoutNameInput" placeholder="Workout 1"/>
		<br />
		<h5 class="formatInput">Exercise 1:</h5>
		<input type="text" class="formatInput" id="exerciseInput1" placeholder="Squat"/>
		<h5 class="formatInput">Weight:</h5>
		<input type="text" class="formatInput" id="weightInput1" placeholder="80 Lbs"/>
		<h5 class="formatInput">Reps:</h5>
		<input type="text" class="formatInput" id="repInput1" placeholder="5"/>
		<h5 class="formatInput">Sets:</h5>
		<input type="text" class="formatInput" id="setInput1" placeholder="5"/>
		<br />
		<h5 class="formatInput">Exercise 2:</h5>
		<input type="text" class="formatInput" id="exerciseInput2" placeholder="Squat"/>
		<h5 class="formatInput">Weight:</h5>
		<input type="text" class="formatInput" id="weightInput2" placeholder="80 Lbs"/>
		<h5 class="formatInput">Reps:</h5>
		<input type="text" class="formatInput" id="repInput2" placeholder="5"/>
		<h5 class="formatInput">Sets:</h5>
		<input type="text" class="formatInput" id="setInput2" placeholder="5"/>
		<br />
		<h5 class="formatInput">Exercise 3:</h5>
		<input type="text" class="formatInput" id="exerciseInput3" placeholder="Squat"/>
		<h5 class="formatInput">Weight:</h5>
		<input type="text" class="formatInput" id="weightInput3" placeholder="80 Lbs"/>
		<h5 class="formatInput">Reps:</h5>
		<input type="text" class="formatInput" id="repInput3" placeholder="5"/>
		<h5 class="formatInput">Sets:</h5>
		<input type="text" class="formatInput" id="setInput3" placeholder="5"/>
		<br />
		<h5 class="formatInput">Exercise 4:</h5>
		<input type="text" class="formatInput" id="exerciseInput4" placeholder="Squat"/>
		<h5 class="formatInput">Weight:</h5>
		<input type="text" class="formatInput" id="weightInput4" placeholder="80 Lbs"/>
		<h5 class="formatInput">Reps:</h5>
		<input type="text" class="formatInput" id="repInput4" placeholder="5"/>
		<h5 class="formatInput">Sets:</h5>
		<input type="text" class="formatInput" id="setInput4" placeholder="5"/>
		<br />
		<h5 class="formatInput">Exercise 5:</h5>
		<input type="text" class="formatInput" id="exerciseInput5" placeholder="Squat"/>
		<h5 class="formatInput">Weight:</h5>
		<input type="text" class="formatInput" id="weightInput5" placeholder="80 Lbs"/>
		<h5 class="formatInput">Reps:</h5>
		<input type="text" class="formatInput" id="repInput5" placeholder="5"/>
		<h5 class="formatInput">Sets:</h5>
		<input type="text" class="formatInput" id="setInput5" placeholder="5"/>
		<br />
		<button id='prmptCreateWrkoutBtn'>Create</button>
	</div>
  </div>

</div>
		<!-- Container where we'll display the user details -->
         <!-- <div class="quickstart-user-details-container">
            Firebase sign-in status: <span id="quickstart-sign-in-status">Unknown</span>
            <div>Firebase auth <code>currentUser</code> object value:</div>
            <pre><code id="quickstart-account-details">null</code></pre>
          </div>
	  	-->

	</body>
	<script>
		function loadWorkout() {
			//document.getElementById('workoutTable').style.display = 'table';
			console.log('WorkoutHeader clicked!');
		}
	</script>
	<script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBvBaCN1y4klYAtCCeB6zvUAm4pxUR44aE",
    authDomain: "workoutapp-c49bb.firebaseapp.com",
    databaseURL: "https://workoutapp-c49bb.firebaseio.com",
    projectId: "workoutapp-c49bb",
    storageBucket: "workoutapp-c49bb.appspot.com",
    messagingSenderId: "588388264497"
  };
  firebase.initializeApp(config);
</script>
<script src="./scripts/jquery-3.2.1.js"></script>
<script>
	jq321 = jQuery.noConflict(true);
</script>
<script src="./scripts/flipclock.min.js"></script>
<script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
<script type="text/javascript">
      // Client ID and API key from the Developer Console
      var CLIENT_ID = '588388264497-mqecjrrcufkubt5kr21fn277mu2nmchf.apps.googleusercontent.com';

      // Array of API discovery doc URLs for APIs used by the quickstart
      var DISCOVERY_DOCS = ["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];

      // Authorization scopes required by the API; multiple scopes can be
      // included, separated by spaces.
      var SCOPES = "https://www.googleapis.com/auth/calendar";

      var authorizeButton = document.getElementById('authorize-button');
      var signoutButton = document.getElementById('signout-button');

      /**
       *  On load, called to load the auth2 library and API client library.
       */
      function handleClientLoad() {
        gapi.load('client:auth2', initClient);
      }

      /**
       *  Initializes the API client library and sets up sign-in state
       *  listeners.
       */
      function initClient() {
        gapi.client.init({
          discoveryDocs: DISCOVERY_DOCS,
          clientId: CLIENT_ID,
          scope: SCOPES
        }).then(function () {
          // Listen for sign-in state changes.
          gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

          // Handle the initial sign-in state.
          updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
          authorizeButton.onclick = handleAuthClick;
          signoutButton.onclick = handleSignoutClick;
        });
      }

      /**
       *  Called when the signed in status changes, to update the UI
       *  appropriately. After a sign-in, the API is called.
       */
      function updateSigninStatus(isSignedIn) {
        if (isSignedIn) {
          authorizeButton.style.display = 'none';
          signoutButton.style.display = 'block';
          listUpcomingEvents();
        } else {
          authorizeButton.style.display = 'block';
          signoutButton.style.display = 'none';
        }
      }

      /**
       *  Sign in the user upon button click.
       */
      function handleAuthClick(event) {
        gapi.auth2.getAuthInstance().signIn();
      }

      /**
       *  Sign out the user upon button click.
       */
      function handleSignoutClick(event) {
        gapi.auth2.getAuthInstance().signOut();
      }

      /**
       * Append a pre element to the body containing the given message
       * as its text node. Used to display the results of the API call.
       *
       * @param {string} message Text to be placed in pre element.
       */
      function appendPre(message) {
        var pre = document.getElementById('content');
        var textContent = document.createTextNode(message + '\n');
        pre.appendChild(textContent);
      }

      /**
       * Print the summary and start datetime/date of the next ten events in
       * the authorized user's calendar. If no events are found an
       * appropriate message is printed.
       */
      function listUpcomingEvents() {
		var event = {
    'summary': 'Google I/O 2015',
    'location': '800 Howard St., San Francisco, CA 94103',
    'description': 'A chance to hear more about Google\'s developer products.',
    'start': {
      'dateTime': '2017-06-28T09:00:00-07:00',
      'timeZone': 'America/Los_Angeles'
    },
    'end': {
      'dateTime': '2017-06-28T17:00:00-07:00',
      'timeZone': 'America/Los_Angeles'
    },
    'recurrence': [
      'RRULE:FREQ=DAILY;COUNT=2'
    ],
    'attendees': [
      {'email': 'lpage@example.com'},
      {'email': 'sbrin@example.com'}
    ],
    'reminders': {
      'useDefault': false,
      'overrides': [
        {'method': 'email', 'minutes': 24 * 60},
        {'method': 'popup', 'minutes': 10}
      ]
    }
  };

  var request = gapi.client.calendar.events.insert({
    'calendarId': 'primary',
    'resource': event
  });

  request.execute(function(event) {
    appendPre('Event created: ' + event.htmlLink);
  });
        gapi.client.calendar.events.list({
          'calendarId': 'primary',
          'timeMin': (new Date()).toISOString(),
          'showDeleted': false,
          'singleEvents': true,
          'maxResults': 10,
          'orderBy': 'startTime'
        }).then(function(response) {
          var events = response.result.items;
          appendPre('Upcoming events:');

          if (events.length > 0) {
            for (i = 0; i < events.length; i++) {
              var event = events[i];
              var when = event.start.dateTime;
              if (!when) {
                when = event.start.date;
              }
              appendPre(event.summary + ' (' + when + ')')
            }
          } else {
            appendPre('No upcoming events found.');
          }
        });
      }


    </script>

    <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
<script src="./scripts/authentication.js"></script>
</HTML>
